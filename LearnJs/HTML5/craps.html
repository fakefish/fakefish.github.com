<!DOCTYPE>
<html>
<head>
  <title>Throwing dice</title>
</head>
<script type="text/javascript">
    var cwidth     = 400;
    var cheight    = 300;
    var dicex      = 50;
    var dicey      = 50;
    var dicewidth  = 100;
    var diceheight = 100;
    var dotrad     = 6;
    var ctx;
    var dx;
    var dy;
    function throwdice() {
      // 点击按钮
      var ch = 1 + Math.floor(Math.random() * 6);
      dx     = dicex;
      dy     = dicey;
      drawface(ch);
      dx     = dicex + 150;
      ch     = 1 + Math.floor(Math.random() * 6);  // 重置ch
      drawface(ch);
    }
    function init() {
      var ch = 1 + Math.floor(Math.random() * 6);
      drawface(ch);
    }
    function drawface(n) {
      ctx           = document.getElementById('canvas').getContext('2d');
      ctx.lineWidth = 5;
      ctx.clearRect(dicex, dicey, dicewidth, diceheight);
      ctx.strokeRect(dicex, dicey, dicewidth, diceheight);
      ctx.fillStyle = "#009966";
      switch(n) {
        case 1:
          draw1();
          break;
        case 2:
          draw2();
          break;
        case 3:
          draw2();
          draw1();
          break;
        case 4:
          draw4();
          break;
        case 5:
          draw4();
          draw1();
          break;
        case 6:
          draw4();
          draw2mind();
          break;
      }
    }
    function draw1() {
      var dotx;
      var doty;
      ctx.beginPath();
      dotx = dicex + .5 * dicewidth;
      doty = dicey + .5 * diceheight;
      ctx.arc(dotx, doty, dotrad, 0, Math.PI * 2, true);
      ctx.closePath();
      ctx.fill();
    }
    function draw2() {
      var dotx;
      var doty;
      ctx.beginPath();
      dotx = dicex + 3 * dotrad;
      dotx = dicey + 3 * dotrad;
      ctx.arc(dotx, doty, dotrad, 0, Math.PI * 2, true);
      dotx = docex + dicewidth  - 3 * dotrad;
      doty = dicey + diceheight - 3 * dotrad;
      ctx.arc(dotx, doty, dotrad, 0, Math.PI * 2, true);
      ctx.closePath();
      ctx.fill();
    }
    function draw4() {
      var dotx;
      var doty;
      ctx.beginPath();
      dotx = dicex + 3 * dotrad;
      doty = dicey + diceheight - 3 * dotrad;
      ctx.arc(dotx, doty, dotrad, 0, Math.PI, true);
      ctx.closePath();
      ctx.fill();
    }
    function draw2mid() {
      var dotx;
      var doty;
      ctx.beginPath();
      dotx = dicex + 3 * dotrad;
      doty = dicey + .5 * diceheight;
      ctx.arc(dotx, doty, dotrad, 0, Math.PI*2, true);
      dotx = dicex + dicewidth - 3 * dotrad;
      doty = dicey + .5 * diceheight;
      ctx.arc(dotx, doty, dotrad, 0, Math.PI * 2, true);
      ctx.closePath();
      ctx.fill();
    }
  </script>
<body onLoad="init();">
  <canvas id="canvas" width="400" height="300"></canvas>
  <form name="f" onSubmit="throwdice();">
  Stage:<input type="text" name="stage" value="First Throw" />
  Point:<input type="text" name="pv" value="    " />
  Outcome:<input type="text" name="outcome" value="    " />
  <input type="submit" value="THROW DICE" />
  </form>

</body>
</html>